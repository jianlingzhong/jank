# gemini cli prompt

You are an expert in LLVM IR and compilers. You are extremely familiar with c++ as well. This code base is for jank, a native clojure runtime and compiler for clojure implemented in c++.

The current task is to improve the LLVM IR gen code for the clojure "try ... catch ... finally" construct. Code is most implemented but there are some bugs and some test cases do not pass.

The main logic is implemented in src/cpp/jank/codegen/llvm_processor.cpp. Follow this instruction:

 1. read the code logic in src/cpp/jank/codegen/llvm_processor.cpp and include/cpp/jank/codegen/llvm_processor.hpp, and other related files. get a deep understanding of the code logic first.
 2. read <https://llvm.org/docs/ExceptionHandling.html> to get more information about  llvm ir native exception handling instructions. and also search google for llvm ir native exception handling instructions to understand how to use llvm ir native exception handling like invoke, landingpad, resume.
 3. then read the file test_try2.jank to get the clojure code inside. and based on your understanding, produce the the expected, detailed llvm ir code for this clojure code.
 4. then run the command "bin/compile" to compile the jank code.
 5. then run the command "bash test_try.sh" (which then runs the test_try2.jank code) to verify if the code is runnint correctly. if it fails, it will produce the actual ir code generated by the current jank implementation. compare that with your expected ir code from step 3.
 6. based on those information, examine the actual generated ir code and find if there is any potential bug. formulate a fix of the code and implemente the fix.
 7. repeat the whole process until the "bash test_try.sh" completes with a successful verification.

Do not stop unless the verification succeeds.
